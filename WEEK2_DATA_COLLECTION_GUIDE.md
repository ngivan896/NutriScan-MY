# Week 2 数据收集指南

## 🎯 目标

- **总图像数**: 1000+ 张
- **每类图像**: 50 张
- **食物类别**: 20 种马来西亚食物
- **质量要求**: 清晰、多角度、多环境

---

## 📋 数据收集进度

当前状态：
```bash
node check_images.js
```

总进度: **0/1000+ (0%)**

---

## 🍜 20种食物清单

### 主食类 (7种)
- [ ] Nasi Lemak (椰浆饭) - 0/50
- [ ] Nasi Kerabu (蓝花饭) - 0/50
- [ ] Roti Canai (印度煎饼) - 0/50
- [ ] Chicken Rice (海南鸡饭) - 0/50
- [ ] Nasi Kandar (嘛嘛档饭) - 0/50
- [ ] Claypot Chicken Rice (砂煲鸡饭) - 0/50
- [ ] Lemang (竹筒糯米饭) - 0/50

### 面食类 (6种)
- [ ] Char Kway Teow (炒粿条) - 0/50
- [ ] Hokkien Mee (福建面) - 0/50
- [ ] Curry Laksa (咖喱叻沙) - 0/50
- [ ] Wantan Mee (云吞面) - 0/50
- [ ] Kolo Mee (干捞面) - 0/50
- [ ] Chili Pan Mee (辣椒板面) - 0/50

### 小吃/甜品类 (4种)
- [ ] Cendol (煎蕊) - 0/50
- [ ] Rojak (罗惹) - 0/50
- [ ] Satay (沙爹) - 0/50
- [ ] Apam Balik (曼煎糕) - 0/50

### 其他 (3种)
- [ ] Bak Kut Teh (肉骨茶) - 0/50
- [ ] Ramly Burger - 0/50
- [ ] Chee Cheong Fun (猪肠粉) - 0/50

---

## 📸 拍摄指南

### 图像质量要求
- ✅ **分辨率**: 最低 640x640，推荐 1280x1280 或更高
- ✅ **清晰度**: 对焦清晰，避免模糊
- ✅ **光线**: 自然光或充足室内光，避免过曝/欠曝
- ✅ **构图**: 食物占画面 50-80%

### 多样性要求

#### 1. 角度多样性
- 正上方 (鸟瞰) - 30%
- 45度斜角 - 50%
- 平视角度 - 20%

#### 2. 环境多样性
- 餐厅环境
- 街边档口
- 家庭餐桌
- 户外场景

#### 3. 配置多样性
- 不同配菜组合
- 有/无餐具
- 单份/多份
- 不同装盘方式

#### 4. 背景多样性
- 木质桌面
- 塑料餐盘
- 香蕉叶
- 报纸/纸袋

---

## 🔄 数据收集流程

### 方法1: 自行拍摄（推荐）

1. **准备设备**
   - 智能手机相机
   - 确保镜头清洁
   - 充足电量

2. **拍摄地点**
   - 餐厅/茶餐厅
   - 夜市/街边档
   - 美食街
   - 家庭自制

3. **拍摄技巧**
   - 每种食物至少拍摄 50 张
   - 变换角度和距离
   - 包含不同光线条件
   - 捕捉食物细节

4. **整理图像**
   ```bash
   # 将图像保存到对应文件夹
   raw_images/nasi_lemak/
   raw_images/roti_canai/
   ...
   ```

### 方法2: 在线数据源

1. **免费图库**
   - Pexels: https://www.pexels.com/
   - Unsplash: https://unsplash.com/
   - Pixabay: https://pixabay.com/
   
   搜索关键词: "Malaysian food", "Nasi Lemak", "Roti Canai" 等

2. **开源数据集**
   - Kaggle Malaysian Food Dataset
   - Open Images Dataset
   - Food-101 (部分可用)

3. **注意事项**
   - ⚠️ 检查使用许可
   - ⚠️ 避免水印图像
   - ⚠️ 确保图像质量

### 方法3: 混合策略（最推荐）

**第一阶段 (Day 1-2)**: 快速启动
- 从在线图库下载 20-30 张/类
- 用于测试标注流程
- 验证Roboflow配置

**第二阶段 (Day 3-7)**: 主力收集
- 自行拍摄 30-40 张/类
- 确保数据多样性
- 针对性补充

---

## 🏷️ 数据标注流程

### 1. 上传到Roboflow

访问: https://app.roboflow.com/malaysian-food-detection/malaysian-food-detection-wy3kt/upload

**批量上传技巧**:
- 每次上传 50-100 张
- 按食物类别分批上传
- 使用有意义的文件名

### 2. 标注方法

**Bounding Box 标注**:
1. 选择 "Annotate" 工具
2. 使用矩形框标注食物主体
3. 标签名称使用英文小写 + 下划线:
   - `nasi_lemak`
   - `roti_canai`
   - `char_kway_teow`

**标注原则**:
- ✅ 框住整个食物主体
- ✅ 包含主要配菜
- ✅ 不包含餐具边缘
- ✅ 如有多份食物，标注所有

### 3. 审核与质量控制

- 检查标注框是否准确
- 删除模糊/低质量图像
- 确保标签名称一致

---

## 📊 进度追踪

### 每日检查
```bash
cd "C:\Users\ngiva\Desktop\NutriScan MY"
node check_images.js
```

### 每周目标

| 天数 | 目标图像数 | 累计进度 |
|------|-----------|---------|
| Day 1-2 | 200 | 20% |
| Day 3-4 | 400 | 40% |
| Day 5-6 | 700 | 70% |
| Day 7 | 1000+ | 100% |

---

## ⚡ 提高效率的技巧

### 1. 批量处理
- 同一天收集多种食物
- 在同一地点拍摄多个角度
- 批量重命名和整理

### 2. 利用工具
```bash
# 批量重命名 (PowerShell)
Get-ChildItem *.jpg | ForEach-Object -Begin { $count=1 } -Process { 
    Rename-Item $_ -NewName "nasi_lemak_$count.jpg"; $count++ 
}
```

### 3. 团队协作
- 分配不同食物给不同人
- 共享拍摄地点信息
- 交叉审核标注质量

---

## ✅ 质量检查清单

上传前检查:
- [ ] 图像清晰度OK
- [ ] 文件格式正确 (jpg/png)
- [ ] 文件名规范
- [ ] 图像尺寸合适 (>640x640)
- [ ] 无重复图像

标注后检查:
- [ ] 每张图至少1个标注
- [ ] 标签名称一致
- [ ] 边界框准确
- [ ] 无遗漏或错标

---

## 🚀 完成标准

Week 2结束时应达到:
- ✅ **1000+张图像** 已收集
- ✅ **全部上传** 到Roboflow
- ✅ **100%标注完成**
- ✅ **数据集版本生成** (Version 1)
- ✅ **准备开始训练** (Week 3)

---

## 🔗 相关资源

- Roboflow项目: https://app.roboflow.com/malaysian-food-detection/malaysian-food-detection-wy3kt/
- 食物详细信息: `food_list.md`
- 进度检查工具: `check_images.js`

---

## 💡 常见问题

### Q: 如果找不到某种食物怎么办？
A: 优先收集常见食物，稀有食物可以从在线图库补充。

### Q: 图像数量不够50张可以吗？
A: 最低要求每类30张，但50张能显著提高模型准确率。

### Q: 需要标注配菜吗？
A: 主要标注主食，重要的配菜可以包含在边界框内。

### Q: 标注错误怎么办？
A: Roboflow支持重新标注，可以随时修改。

---

**创建日期**: 2025-10-04  
**周期**: Week 2 (7天)  
**下一步**: Week 3 模型训练

